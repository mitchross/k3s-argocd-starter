cluster:
  name: nuc
  id: 1

kubeProxyReplacement: true

k8sServiceHost: 192.168.10.202
k8sServicePort: 6443

# Core security and system requirements
securityContext:
  capabilities:
    ciliumAgent: [ CHOWN, KILL, NET_ADMIN, NET_RAW, IPC_LOCK, SYS_ADMIN, SYS_RESOURCE, DAC_OVERRIDE, FOWNER, SETGID, SETUID ]
    cleanCiliumState: [ NET_ADMIN, SYS_ADMIN, SYS_RESOURCE ]

# Basic resource settings
operator:
  resources:
    limits:
      cpu: 500m
      memory: 256Mi
    requests:
      cpu: 50m
      memory: 128Mi
# Roll out cilium agent pods automatically when ConfigMap is updated.
rollOutCiliumPods: true
resources:
  limits:
    cpu: 1000m
    memory: 1Gi
  requests:
    cpu: 200m
    memory: 512Mi

# Essential networking features
ipam:
  mode: kubernetes

l2announcements:
  enabled: true

externalIPs:
  enabled: true

loadBalancer:
  algorithm: maglev

# Gateway API configuration
gatewayAPI:
  enabled: true

# Envoy configuration - required for Gateway API
envoy:
  enabled: true
  securityContext:
    capabilities:
      envoy: [ NET_ADMIN, NET_RAW, SYS_ADMIN ]
      keepCapNetBindService: true



# Optional but useful for debugging
hubble:
  enabled: true
  relay:
    enabled: true
  ui:
    enabled: true